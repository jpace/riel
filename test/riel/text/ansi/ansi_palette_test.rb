#!/usr/bin/ruby -w
# -*- ruby -*-

require 'riel/text/ansi/ansi_palette'
require 'riel/text/ansi/palette_tc'

module Text
  class ANSIPaletteTest < PaletteTest
    def cls
      ANSIPalette
    end

    def test_ansi_foregrounds
      expected = [
                  "ansi foregrounds\n",
                  "[38;5;0m0/.[0m [38;5;1m1/.[0m [38;5;2m2/.[0m [38;5;3m3/.[0m [38;5;4m4/.[0m [38;5;5m5/.[0m [38;5;6m6/.[0m [38;5;7m7/.[0m \n",
                  "\n",
                 ]

      assert_print expected, :print_foregrounds
    end

    def test_ansi_backgrounds
      expected = [
                  "ansi backgrounds\n",
                  "[48;5;0m./0[0m [48;5;1m./1[0m [48;5;2m./2[0m [48;5;3m./3[0m [48;5;4m./4[0m [48;5;5m./5[0m [48;5;6m./6[0m [48;5;7m./7[0m \n",
                  "\n",
                 ]

      assert_print expected, :print_backgrounds
    end

    def test_ansi_combinations
      expected = [
                  "ansi combinations\n",
                  "bg: 000\n",
                  "[48;5;0m[38;5;0m0/.[0m [48;5;0m[38;5;1m1/.[0m [48;5;0m[38;5;2m2/.[0m [48;5;0m[38;5;3m3/.[0m [48;5;0m[38;5;4m4/.[0m [48;5;0m[38;5;5m5/.[0m [48;5;0m[38;5;6m6/.[0m [48;5;0m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 001\n",
                  "[48;5;1m[38;5;0m0/.[0m [48;5;1m[38;5;1m1/.[0m [48;5;1m[38;5;2m2/.[0m [48;5;1m[38;5;3m3/.[0m [48;5;1m[38;5;4m4/.[0m [48;5;1m[38;5;5m5/.[0m [48;5;1m[38;5;6m6/.[0m [48;5;1m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 002\n",
                  "[48;5;2m[38;5;0m0/.[0m [48;5;2m[38;5;1m1/.[0m [48;5;2m[38;5;2m2/.[0m [48;5;2m[38;5;3m3/.[0m [48;5;2m[38;5;4m4/.[0m [48;5;2m[38;5;5m5/.[0m [48;5;2m[38;5;6m6/.[0m [48;5;2m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 003\n",
                  "[48;5;3m[38;5;0m0/.[0m [48;5;3m[38;5;1m1/.[0m [48;5;3m[38;5;2m2/.[0m [48;5;3m[38;5;3m3/.[0m [48;5;3m[38;5;4m4/.[0m [48;5;3m[38;5;5m5/.[0m [48;5;3m[38;5;6m6/.[0m [48;5;3m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 004\n",
                  "[48;5;4m[38;5;0m0/.[0m [48;5;4m[38;5;1m1/.[0m [48;5;4m[38;5;2m2/.[0m [48;5;4m[38;5;3m3/.[0m [48;5;4m[38;5;4m4/.[0m [48;5;4m[38;5;5m5/.[0m [48;5;4m[38;5;6m6/.[0m [48;5;4m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 005\n",
                  "[48;5;5m[38;5;0m0/.[0m [48;5;5m[38;5;1m1/.[0m [48;5;5m[38;5;2m2/.[0m [48;5;5m[38;5;3m3/.[0m [48;5;5m[38;5;4m4/.[0m [48;5;5m[38;5;5m5/.[0m [48;5;5m[38;5;6m6/.[0m [48;5;5m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 006\n",
                  "[48;5;6m[38;5;0m0/.[0m [48;5;6m[38;5;1m1/.[0m [48;5;6m[38;5;2m2/.[0m [48;5;6m[38;5;3m3/.[0m [48;5;6m[38;5;4m4/.[0m [48;5;6m[38;5;5m5/.[0m [48;5;6m[38;5;6m6/.[0m [48;5;6m[38;5;7m7/.[0m \n",
                  "\n",
                  "bg: 007\n",
                  "[48;5;7m[38;5;0m0/.[0m [48;5;7m[38;5;1m1/.[0m [48;5;7m[38;5;2m2/.[0m [48;5;7m[38;5;3m3/.[0m [48;5;7m[38;5;4m4/.[0m [48;5;7m[38;5;5m5/.[0m [48;5;7m[38;5;6m6/.[0m [48;5;7m[38;5;7m7/.[0m \n",
                  "\n",
                 ]

      assert_print expected, :print_combinations
    end
  end
end
